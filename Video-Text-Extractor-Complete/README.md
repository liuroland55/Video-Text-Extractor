# Video Text Extractor

一个智能的Edge浏览器插件，用于从视频暂停帧中提取文本内容，支持数学公式、代码格式保持和多种OCR服务。

## 🚀 功能特性

### 核心功能
- **智能视频检测**: 自动检测页面中的视频元素
- **一键文本提取**: 点击插件图标即可提取视频暂停时的文本
- **格式保持**: 智能保留数学公式、代码格式和特殊符号
- **多OCR服务**: 支持Azure、Google、Mathpix、OCR.space等多种服务

### 高级特性
- **智能格式化**: 自动优化识别结果，转换上标下标、化学式等
- **可编辑结果**: 支持编辑和修正识别的文本
- **历史记录**: 保存提取历史，方便查看和管理
- **多格式导出**: 支持导出为TXT、JSON等格式

### 用户体验
- **直观界面**: 左右分栏显示原图和识别文本
- **实时预览**: 支持图片缩放和文本格式切换
- **快捷键支持**: 支持键盘快捷键快速操作
- **响应式设计**: 适配不同屏幕尺寸

## 📦 安装方法

### 方法一：从Edge商店安装（推荐）
1. 访问Microsoft Edge加载项商店
2. 搜索"Video Text Extractor"
3. 点击"获取"按钮安装

### 方法二：侧载安装（开发版本）
1. 下载插件文件到本地
2. 打开Edge浏览器，进入`扩展管理页面`
3. 开启"开发人员模式"
4. 点击"加载解压缩的扩展"
5. 选择插件文件夹

## ⚙️ 配置指南

### 首次设置
1. 安装后点击插件图标
2. 点击"API设置"按钮
3. 按照教程配置一个或多个OCR服务

### OCR服务配置

#### 🔵 Microsoft Azure Vision
- **免费额度**: 每月1000次调用，12个月$200免费额度
- **配置步骤**:
  1. 访问[Azure官网](https://azure.microsoft.com)
  2. 创建Computer Vision资源
  3. 选择"F0"免费定价层
  4. 获取API密钥和终结点

#### 🟢 Google Cloud Vision
- **免费额度**: 每月1000次调用，新用户$300免费额度
- **配置步骤**:
  1. 访问[Google Cloud Console](https://console.cloud.google.com)
  2. 启用Cloud Vision API
  3. 创建API密钥

#### 🟣 Mathpix
- **免费额度**: 每月1000次调用
- **专长**: 数学公式识别，准确率极高
- **配置步骤**:
  1. 访问[Mathpix官网](https://accounts.mathpix.com/signup)
  2. 注册账户获取App ID和App Key

#### 🟡 OCR.space
- **免费额度**: 每月25000次调用
- **特点**: 无需注册，开箱即用

## 🎯 使用方法

### 基本使用
1. 在包含视频的网页中，暂停视频到需要提取文本的帧
2. 点击插件图标或使用快捷键`Ctrl+Shift+V`
3. 插件自动捕获视频帧并进行OCR识别
4. 在新打开的结果页面中查看和复制文本

### 高级功能
- **格式切换**: 开启"智能格式化"自动优化数学公式和特殊符号
- **文本编辑**: 点击"编辑"按钮修改识别结果
- **图片缩放**: 使用缩放控件或`Ctrl+滚轮`调整图片大小
- **批量处理**: 支持处理多个视频源

### 快捷键
- `Ctrl+Shift+V`: 激活文本提取
- `Ctrl+C`: 复制全部文本
- `Ctrl+S`: 导出文本
- `Ctrl+F`: 切换格式化模式
- `Esc`: 退出编辑模式

## 🔧 技术架构

### 插件结构
```
video-text-extractor/
├── manifest.json          # 插件配置文件
├── background.js          # 后台服务脚本
├── content.js             # 页面内容脚本
├── popup/                 # 弹出界面
├── result/                # 结果展示页面
├── options/               # 设置页面
├── tutorial/              # 教程页面
├── apis/                  # API适配器
├── core/                  # 核心功能模块
└── utils/                 # 工具函数
```

### 核心技术
- **Manifest V3**: 使用最新的Chrome扩展API
- **Service Worker**: 现代化的后台脚本架构
- **Canvas API**: 高质量视频帧捕获
- **Web Storage**: 本地数据持久化
- **Fetch API**: 现代化的HTTP请求处理

### OCR集成
- **多服务支持**: Azure Vision、Google Vision、Mathpix、OCR.space
- **智能选择**: 根据内容类型自动选择最佳OCR服务
- **故障转移**: 自动切换到备用服务
- **配额管理**: 智能管理免费额度使用

## 📊 使用统计

插件提供详细的使用统计：
- 今日提取次数
- 总计提取次数
- API调用统计
- 成功率分析
- 各服务使用分布

## 🛠️ 开发指南

### 本地开发
1. 克隆代码库
2. 在Edge中加载插件
3. 修改代码后重新加载插件

### 调试技巧
- 使用Edge开发者工具调试各个脚本
- 查看Console日志排查问题
- 使用Network面板监控API调用

### 贡献指南
1. Fork项目
2. 创建功能分支
3. 提交Pull Request
4. 等待代码审查

## 🔒 隐私和安全

### 数据保护
- **本地处理**: 所有文本识别在本地完成
- **密钥安全**: API密钥使用Chrome加密存储
- **不上传数据**: 不收集或上传用户数据

### 权限说明
- `activeTab`: 访问当前活动标签页
- `storage`: 本地数据存储
- `tabs`: 创建和管理标签页
- `scripting`: 注入内容脚本

## 🤝 支持和反馈

### 获取帮助
- **使用教程**: 插件内建详细教程
- **常见问题**: 查看FAQ文档
- **技术支持**: 发送邮件至support@example.com

### 反馈渠道
- **GitHub Issues**: 报告bug和功能请求
- **Edge商店**: 在商店页面评价和建议
- **社区论坛**: 参与用户讨论

## 📝 更新日志

### v1.0.0 (2024-12-16)
- 🎉 首次发布
- ✨ 支持4种主流OCR服务
- 🔧 完整的配置界面
- 📊 使用统计和历史记录
- 🎨 现代化的用户界面
- ⌨️ 快捷键支持
- 📱 响应式设计

## 📄 许可证

本项目采用MIT许可证，详情请查看LICENSE文件。

## 🙏 致谢

感谢以下开源项目和服务：
- Chrome Extensions API
- Azure Computer Vision
- Google Cloud Vision
- Mathpix OCR
- OCR.space

---

**Video Text Extractor** - 让视频中的文本触手可及 🚀
